<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Mellstroy: Burmalda Tycoon</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0f0f0f;
            color: white;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            user-select: none;
        }

        #header {
            background: #1e1e1e;
            width: 100%;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }

        .balance-text {
            font-size: 24px;
            font-weight: bold;
            color: #f1c40f;
        }

        /* –ó–æ–Ω–∞ –∫–ª–∏–∫–µ—Ä–∞ */
        #click-section {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .mell-avatar {
            width: 200px;
            height: 200px;
            background: url('https://img.freepik.com/free-vector/shining-gold-coin-with-dollar-sign-vector-illustration_1017-45145.jpg') center/cover; /* –¢—É—Ç –±—É–¥–µ—Ç –ª–∏—Ü–æ –ú–µ–ª–∞ */
            border-radius: 50%;
            border: 5px solid #f1c40f;
            cursor: pointer;
            transition: transform 0.05s;
            box-shadow: 0 0 20px rgba(241, 196, 15, 0.3);
        }

        .mell-avatar:active {
            transform: scale(0.9);
        }

        /* –ö–∞–∑–∏–Ω–æ / –°–ª–æ—Ç—ã */
        #casino-section {
            background: #2c3e50;
            padding: 20px;
            border-radius: 15px;
            margin: 20px;
            display: none; /* –°–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
        }

        .slot-container {
            display: flex;
            gap: 10px;
            font-size: 40px;
            margin-bottom: 10px;
        }

        .slot {
            background: #fff;
            padding: 10px;
            border-radius: 5px;
            min-width: 50px;
        }

        /* –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é */
        #navbar {
            display: flex;
            width: 100%;
            background: #1e1e1e;
            justify-content: space-around;
            padding: 10px 0;
        }

        .nav-btn {
            background: none;
            border: none;
            color: #7f8c8d;
            font-size: 14px;
            cursor: pointer;
        }

        .nav-btn.active {
            color: #f1c40f;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ */
        .tap-text {
            position: absolute;
            color: #2ecc71;
            font-weight: bold;
            pointer-events: none;
            animation: floatUp 0.6s ease-out forwards;
        }

        @keyframes floatUp {
            to { transform: translateY(-100px); opacity: 0; }
        }
    </style>
</head>
<body>

    <div id="header">
        <div>–û–Ω–ª–∞–π–Ω: <span id="online">1,243</span> üëÅÔ∏è</div>
        <div class="balance-text">–ë—É—Ä–º–∞–ª–¥–∞: <span id="balance">0</span> üíé</div>
    </div>

    <div id="click-section">
        <div class="mell-avatar" onclick="tap(event)"></div>
        <p>–¢–∞–ø–∞–π –ø–æ –ú–µ–ª—É, –Ω–∞–±–∏–≤–∞–π –æ–Ω–ª–∞–π–Ω!</p>
    </div>

    <div id="casino-section">
        <h3>üé∞ –ö–ê–ó–ò–ö üé∞</h3>
        <div class="slot-container">
            <div class="slot" id="s1">‚ùì</div>
            <div class="slot" id="s2">‚ùì</div>
            <div class="slot" id="s3">‚ùì</div>
        </div>
        <button onclick="spinSlots()" style="padding: 10px 20px; background: #e74c3c; color: white; border: none; border-radius: 5px;">–ö–†–£–¢–ò–¢–¨ (50 üíé)</button>
    </div>

    <div id="navbar">
        <button class="nav-btn active" onclick="showSection('click')">üè† –ì–ª–∞–≤–Ω–∞—è</button>
        <button class="nav-btn" onclick="showSection('casino')">üé∞ –ö–∞–∑–∏–∫</button>
        <button class="nav-btn" onclick="showSection('shop')">üõí –ú–∞–≥–∞–∑–∏–Ω</button>
    </div>

    <script>
        let balance = 0;
        const tg = window.Telegram.WebApp;
        tg.expand();

        function tap(event) {
            balance += 1;
            updateUI();
            
            // –í–∏–∑—É–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç +1
            const text = document.createElement('div');
            text.className = 'tap-text';
            text.innerText = '+1';
            text.style.left = event.clientX + 'px';
            text.style.top = event.clientY + 'px';
            document.body.appendChild(text);
            setTimeout(() => text.remove(), 600);

            if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('light');
        }

        function updateUI() {
            document.getElementById('balance').innerText = balance;
        }

        function showSection(name) {
            document.getElementById('click-section').style.display = (name === 'click') ? 'flex' : 'none';
            document.getElementById('casino-section').style.display = (name === 'casino') ? 'block' : 'none';
            
            // –°–º–µ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            if(name === 'click') document.querySelectorAll('.nav-btn')[0].classList.add('active');
            if(name === 'casino') document.querySelectorAll('.nav-btn')[1].classList.add('active');
        }

        function spinSlots() {
            if (balance < 50) {
                tg.showAlert("–ë—Ä–∞—Ç, –±–∞–ª–∞–Ω—Å –ø—É—Å—Ç–æ–π! –ù–∞—Ç–∞–ø–∞–π –µ—â–µ –±—É—Ä–º–∞–ª–¥—ã.");
                return;
            }
            balance -= 50;
            updateUI();

            const items = ['üçã', 'üçí', 'üíé', '7Ô∏è‚É£', 'ü§°'];
            const s1 = items[Math.floor(Math.random() * items.length)];
            const s2 = items[Math.floor(Math.random() * items.length)];
            const s3 = items[Math.floor(Math.random() * items.length)];

            document.getElementById('s1').innerText = s1;
            document.getElementById('s2').innerText = s2;
            document.getElementById('s3').innerText = s3;

            if (s1 === s2 && s2 === s3) {
                balance += 1000;
                tg.showAlert("–≠–¢–û –ó–ê–ù–û–°! +1000 –ë–£–†–ú–ê–õ–î–´!");
            } else {
                if (tg.HapticFeedback) tg.HapticFeedback.notificationOccurred('error');
            }
            updateUI();
        }
    </script>
</body>
</html>
